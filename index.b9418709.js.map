{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,0BAIA,MAAMC,EAAiB,IAAI,EAAAF,EAAAG,gBAyB3B,SAASC,EAA4BC,GACnCH,EAAeG,KAAOA,EACtBH,EACGI,sBACAC,MAAKC,KACJ,EAAAC,EAAAC,mBAAkBF,EAAKG,UACvB,EAAAC,EAAAC,aAAYL,EAAKH,KAAMG,EAAKM,YAAaC,EAAa,IAEvDC,OAAMC,GAASC,QAAQC,O,CAG5B,SAASJ,EAAaV,GACpBD,EAA4BC,GAC5Be,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,U,CAvBZrB,EAAesB,cAAcjB,MAAK,EAACkB,OAAEA,MACnC,MAAMC,EAAM,IAAID,GAChBE,aAAaC,QAAQ,SAAUC,KAAKC,UAAUJ,GAAK,IAGrDtB,EAA4B,E","sources":["src/js/startPagStorage.js"],"sourcesContent":["import { TrendingMovies } from './fetchApi';\nimport { renderFilmsMarkup } from './renderMarkup';\nimport { renderPager } from './pagination';\n\nconst trendingMovies = new TrendingMovies();\n\nfunction setToLocacStorageAnswer(answer) {\n  localStorage.setItem('currentFilms', JSON.stringify(answer));\n}\n\nlet options = {\n  totalItems: 100,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: true,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n};\n\nfunction createStartList() {\n  trendingMovies.fetchGenres().then(({ genres }) => {\n    const arr = [...genres];\n    localStorage.setItem('genres', JSON.stringify(arr));\n  });\n\n  loadAndRenderTrendingMovies(1);\n}\n\nfunction loadAndRenderTrendingMovies(page) {\n  trendingMovies.page = page;\n  trendingMovies\n    .fetchTrendingMovies()\n    .then(data => {\n      renderFilmsMarkup(data.results);\n      renderPager(data.page, data.total_pages, onSelectPage);\n    })\n    .catch(error => console.log());\n}\n\nfunction onSelectPage(page) {\n  loadAndRenderTrendingMovies(page);\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\ncreateStartList();\n"],"names":["$sRYpV","parcelRequire","$10bc939b140b6c3f$var$trendingMovies","TrendingMovies","$10bc939b140b6c3f$var$loadAndRenderTrendingMovies","page","fetchTrendingMovies","then","data","$5118m","renderFilmsMarkup","results","$jcFG7","renderPager","total_pages","$10bc939b140b6c3f$var$onSelectPage","catch","error","console","log","window","scrollTo","top","behavior","fetchGenres","genres","arr","localStorage","setItem","JSON","stringify"],"version":3,"file":"index.b9418709.js.map"}