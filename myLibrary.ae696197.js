!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var i=a("bpxeT"),s=a("2TvXO"),c=a("4Nugj"),l=a("dIxxU"),o=a("iU1Pc"),u="Watched_KEY",d="Queue_KEY",p=document.querySelector(".js-btn-watched"),f=document.querySelector(".js-btn-queue");function v(){return h.apply(this,arguments)}function h(){return(h=e(i)(e(s).mark((function t(){var n;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.refs.spinner.classList.remove("visually-hidden"),p.classList.add("filter__btn--active"),f.classList.remove("filter__btn--active"),t.prev=3,n=JSON.parse(localStorage.getItem(u)),t.next=7,Promise.all(n.map(b));case 7:g(t.sent),c.refs.spinner.classList.add("visually-hidden"),t.next=17;break;case 12:return t.prev=12,t.t0=t.catch(3),e(o).Notify.failure("Your Watched gallery is empty!"),c.refs.spinner.classList.add("visually-hidden"),t.abrupt("return");case 17:case"end":return t.stop()}}),t,null,[[3,12]])})))).apply(this,arguments)}function m(){return(m=e(i)(e(s).mark((function t(){var n;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.refs.spinner.classList.remove("visually-hidden"),f.classList.add("filter__btn--active"),p.classList.remove("filter__btn--active"),t.prev=3,n=JSON.parse(localStorage.getItem(d)),t.next=7,Promise.all(n.map(b));case 7:g(t.sent),c.refs.spinner.classList.add("visually-hidden"),t.next=17;break;case 12:return t.prev=12,t.t0=t.catch(3),e(o).Notify.failure("Your Queue gallery is empty!"),c.refs.spinner.classList.add("visually-hidden"),t.abrupt("return");case 17:case"end":return t.stop()}}),t,null,[[3,12]])})))).apply(this,arguments)}function g(e){c.refs.libgallerySet.innerHTML="",e.map((function(e){var t=e.poster_path,n=e.genres,r=e.title,a=e.original_title,i=e.release_date,s=e.first_air_date,c=e.id,l=t?"https://image.tmdb.org/t/p/w400".concat(t):"https://image.tmdb.org/t/p/w400/uc4RAVW1T3T29h6OQdr7zu4Blui.jpg";return'<li class="gallery__item" data-id='.concat(c||"No ID",'>\n                <div class="films__img">\n                    <img src=https://image.tmdb.org/t/p/original').concat(l,' alt="').concat(r||a||"No title",'" loading="lazy" id=').concat(c,'>\n                </div>\n                <div class="film__description" id=').concat(c,'>\n                  <p class="film__title" id=').concat(c,">").concat(r||a||"No title",'</p>\n                  <div class="films__meta" id=').concat(c,'>\n                    <span class="films__genres" id=').concat(c,">").concat(function(e){for(var t=[],n=0;n<e.length;n++){var r=Object.values(e[n]);t.push(r[1])}var a=[];if(t.length>3)return a.push(t[0]),a.push(t[1]),a.push("Other"),a.join(", ");return t.join(", ")}(n)||"No genres info",'</span>\n                    \n                    <span class="films__sep" id=').concat(c,'>|</span>\n                    <span class="films__data" id=').concat(c,">").concat(new Date(i).getFullYear()||new Date(s).getFullYear()||"No info","</span>\n                  </div>\n                </div>\n            </li>")})).forEach((function(e){return c.refs.libgallerySet.insertAdjacentHTML("beforeend",e)}))}p.addEventListener("click",v),f.addEventListener("click",(function(){return m.apply(this,arguments)}));var _="c3923fa38d2dd62131b577696cc2f23f",y="https://api.themoviedb.org/3";function b(e){return w.apply(this,arguments)}function w(){return(w=e(i)(e(s).mark((function t(n){var r,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/movie/".concat(n,"?api_key=").concat(_),e.prev=1,e.next=4,l.default.get("".concat(y).concat(r));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}v()}();
//# sourceMappingURL=myLibrary.ae696197.js.map
