{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCAOAC,eAAeC,EAAYC,EAAYC,GACrC,MACMC,EAAU,mDAAmDF,UAAmBC,IAChFE,QAAiBC,EAAAC,QAAMC,IAAI,4CAAaJ,MACxCK,KAAEA,GAASJ,EAEjB,OAAOI,C,CAGT,IAAIC,EAAa,GAYjBV,eAAeW,EAASF,IACtB,EAAAG,EAAAC,mBAAkBJ,EAAKK,UACvB,EAAAC,EAAAC,aAAYP,EAAKQ,KAAMR,EAAKS,aAAalB,MAAMiB,IAC7ChB,EAAYS,EAAYO,GAAME,MAAKV,IACjCE,EAASF,GACTW,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,UACV,GACF,G,CAnBNzB,EAAA0B,KAAKC,WAAWC,iBAAiB,UAEjC1B,eAAwB2B,GACtBA,EAAMC,iBACNlB,EAAaZ,EAAA0B,KAAKK,YAAYC,MAG9BnB,QAFmBV,EAAYS,EAAY,G","sources":["src/js/getBySearch.js"],"sourcesContent":["import { refs } from './refs';\nimport axios from 'axios';\nimport { renderPager } from './pagination';\nimport { renderFilmsMarkup } from './renderMarkup';\n\nlet currentPage = 1;\n\nasync function fetchMovies(inputQuery, currentPage) {\n  const mainUrl = `https://api.themoviedb.org/3/search/movie`;\n  const filters = `?api_key=c3923fa38d2dd62131b577696cc2f23f&query=${inputQuery}&page=${currentPage}`;\n  const response = await axios.get(`${mainUrl}${filters}`);\n  const { data } = response;\n\n  return data;\n}\n\nlet inputQuery = '';\n\nrefs.searchForm.addEventListener('submit', onSearch);\n\nasync function onSearch(event) {\n  event.preventDefault();\n  inputQuery = refs.searchInput.value;\n  const data = await fetchMovies(inputQuery, 1);\n\n  renderUI(data);\n}\n\nasync function renderUI(data) {\n  renderFilmsMarkup(data.results);\n  renderPager(data.page, data.total_pages, async page => {\n    fetchMovies(inputQuery, page).then(data => {\n      renderUI(data);\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    });\n  });\n}\n\nasync function renderMoviesList(pageNumber) {\n  currentPage = pageNumber;\n}"],"names":["$krGWQ","parcelRequire","async","$f9d794f5c2d63cf9$var$fetchMovies","inputQuery","currentPage","filters","response","$2shzp","default","get","data","$f9d794f5c2d63cf9$var$inputQuery","$f9d794f5c2d63cf9$var$renderUI","$cky31","renderFilmsMarkup","results","$2nhTy","renderPager","page","total_pages","then","window","scrollTo","top","behavior","refs","searchForm","addEventListener","event","preventDefault","searchInput","value"],"version":3,"file":"index.e2ccbee8.js.map"}